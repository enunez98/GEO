name: Run Selenium Job

on:
  schedule:
    - cron: '45 12 * * 1-5' # Se ejecuta a las 8:45 Chile (UTC-4 â†’ UTC+0 = +4 hrs)
  workflow_dispatch:

jobs:
  selenium:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repo
      uses: actions/checkout@v4

    - name: Set up Java
      uses: actions/setup-java@v4
      with:
        distribution: 'temurin'
        java-version: '17'

    - name: Build Docker image
      run: docker build -t selenium-job .

    - name: Run Selenium job
      env:
        USERNAME: ${{ secrets.USERNAME }}
        PASSWORD: ${{ secrets.PASSWORD }}
      run: docker run -e USERNAME -e PASSWORD selenium-job

